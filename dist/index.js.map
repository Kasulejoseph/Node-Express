{"version":3,"sources":["../src/index.js"],"names":["app","port","process","env","PORT","publicDirPath","path","join","__dirname","viewPath","partialPath","set","hbs","registerPartials","use","express","get","req","res","render","title","name","desc","message","query","address","send","error","Latitude","Longtitude","location","forecastData","forecast","error404","listen","console","log"],"mappings":"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","sourcesContent":["import express from 'express'\nimport path from 'path'\nimport hbs from 'hbs'\n\nimport foreCast from './utils/forecast'\nimport geoCode from './utils/geocode'\n\nconst app = express()\nconst port = process.env.PORT || 3000\n\n// Define path for express config\nconst publicDirPath = path.join(__dirname, '../public')\nconst viewPath = path.join(__dirname, '../templates/views')\nconst partialPath = path.join(__dirname, '../templates/partials')\n\n// sETUP HANDLEBARS ENGINE and view location\napp.set('view engine', 'hbs')\napp.set('views', viewPath)\nhbs.registerPartials(partialPath)\n\n// setup static directory to serve\napp.use(express.static(publicDirPath))\napp.get('/', (req, res) => {\n    res.render('index', {\n        title: 'Weather app',\n        name: 'Kasule Joe',\n        desc: 'Get started with this amazing weather app'\n    })\n})\n\n// app.get('/help', (req, res) => {\n//     res.send({\n//         name: 'Andrew',\n//         age: 29\n//     })\n// })\n\napp.get('/about', (req, res) => {\n    res.render('about', {\n        title: 'About me',\n        name: 'Kasule Joe'\n    })\n})\n\napp.get('/help', (req, res) => {\n    res.render('help', {\n        title: `Let's help you...`,\n        message: 'Having trouble connecting to the WIFI, download kasule!',\n        name: 'Kasule Joe'\n    })\n})\n\napp.get('/weather', (req, res) => {\n    if(!req.query.address) {\n        return res.send({\n            error: 'No query params provided'\n        })\n    }\n    geoCode(req.query.address, (error, {Latitude, Longtitude, location}={}) => {\n        if (error) {\n            return res.send({\n                error\n            })\n        }\n        foreCast(Latitude, Longtitude, (error, forecastData) => {\n            if (error) {\n                return res.send({\n                    error\n                })\n            }\n            return res.send({\n                location,\n                forecast: forecastData\n            })\n        })\n\n    })\n})\n\napp.get('/help/*', (req, res) => {\n    res.render('404', {\n        title: `404...`,\n        error404: 'Help article not found',\n        name: 'Kasule Joe'\n    })\n})\n\napp.get('*', (req, res) => {\n    res.render('404', {\n        title: `404...`,\n        error404: '404, page not found.',\n        name: 'Kasule Joe'\n    })\n})\n\napp.listen(port, () => {\n    console.log(`Server is running at port ${port}`)\n})\n\nexport default app"],"file":"index.js"}